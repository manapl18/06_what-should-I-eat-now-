<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="css/maplink.css">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1.0">
        <title>간단한 지도 표시하기</title>
    </head>
    <body>
        <a class="choiceAgain" href="page1.html" style="font-family:fantasy" style="font-style: italic;">Agian</a>
        <script async defer
     src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCv43g4FLoZD_0uRGFPnveo-uq_2puaopE&callback=initMap"></script>
    <div class="sheet" style="border:1px solid #ddd; width:500px; height:530px;display:block;">
        <div id="map"></div>
        <script type="text/javascript">
            var FirstPosition={lat:35.1367833,lng:129.1016051};
            var whichOne='korean'
            var korean=[
                {position:{lat:35.1357273,lng:129.1035202},type:'청춘식당'},
                {position:{lat:35.136098,lng:129.1034857},type:'코고미식당'},
                {position:{lat:35.1357942,lng:129.1030012},type:'은화수식당'},
                {position:{lat:35.1377546,lng:129.1066678},type:'명가식당'},
                {position:{lat:35.1386155,lng:129.1034456},type:'남부식당'},
                {position:{lat:35.1385421,lng:129.1047259},type:'알천식당'}
            ];
            
            function initMap(){
                    var map= new google.maps.Map(document.getElementById('map'), {
                    zoom:17,
                    center: FirstPosition,
                });
                Koreanbistro(map);
                // else if(whichOne=='japanese')
                //     Japanesebisro();
                // setMarker(map);
            }

            function Koreanbistro(map){
                var marker;
                for(var i=0;i<korean.length;i++)
                {
                    var marker = new goolge.maps.Marker({
                    map: map, title:korean[i].type, position:korean[i].position
                    });
                    var content="찾고자 하는 식당: "
                    var infowindow=new google.maps.Infowindow()
                    google.maps.event.addListener(marker,'click',(function(marker,content,infowindow){
                        return function(){
                        infowindow.setContent(content);
                        infowindow.open(map,marker);
                    };     
                })(marker,content,infowindow));
            }
        }
        </script>
    </div>
</body>
</html>